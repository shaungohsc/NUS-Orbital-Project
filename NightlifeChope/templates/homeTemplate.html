<template name="homeTemplate">

  <h1> Welcome to NightlifeChope </h1>
  <div class="deep-purple teal-text">

    <div class="row ">
      <form class="queryForm">
      <div class = "input-field col s2">
        <input type="text" name="date" class="white-text datepicker">
        <label for="date"> Date </label>
      </div>

      <div class="input-field col s2 valign-wrapper ">
        <select name="pax">
          <option class="white-text" value=2>2 Guests</option>
          <option value=3>3 Guests</option>
          <option value=4>4 Guests</option>
          <option value=5>5 Guests</option>
          <option value=6>6 Guests</option>
          <option value=7>7 Guests</option>
          <option value=8>8 Guests</option>
        </select>
        <label> Number of Guests </label>
      </div>

      <div class="col s3 valign-wrapper">
        <p> Search For&nbsp;&nbsp;&nbsp;</p>
        <p>
          <label>
            <input type="checkbox" name="clubsBool" class="filled-in" checked="checked" />
            <span> Clubs</span>
          </label>
        &nbsp;&nbsp;&nbsp;&nbsp;
        </p>
        <p>
          <label>
            <input type="checkbox" name="barsBool" class="filled-in" checked="checked" />
            <span> Bars </span>
          </label>
        </p>
    </div>

    <div class="col s2 valign-wrapper">
      <label> Maximum Price </label>
      <p class="range-field">
        <input type="range" name="price" min="200" max="2000">
        <output for="price" onforminput="value = price.valueAsNumber;"></output>
      </p>
      <script>
        // DOM Ready
        $(function() {
        var el, newPoint, newPlace, offset;
        // Select all range inputs, watch for change
        $("input[type='range']").change(function() {
         // Cache this for efficiency
         el = $(this);
         // Measure width of range input
         width = el.width();
         // Figure out placement percentage between left and right of input
         newPoint = (el.val() - el.attr("min")) / (el.attr("max") - el.attr("min"));
         // Janky value to get pointer to line up better
         offset = -1.3;
         // Prevent bubble from going beyond left or right (unsupported browsers)
         if (newPoint < 0) { newPlace = 0; }
         else if (newPoint > 1) { newPlace = width; }
         else { newPlace = width * newPoint + offset; offset -= newPoint; }
         // Move bubble
         el
           .next("output")
           .css({
             left: newPlace,
             marginLeft: offset + "%"
           })
           .text(el.val());
        })
        // Fake a change to position bubble at page load
        .trigger('change');
        });
      </script>

    </div>

    <div class="col s2 valign-wrapper">
      <input class="white black-text btn waves-effect" type="submit" value="Search">
    </div>

    </form>
  </div>
  </div>

  <!-- Import noUiSlider (doesn't work)
  <div id="priceSlider"></div>
  <link type="text/css" rel="stylesheet" href="../node_modules/materializecss/extras/nouislider/nouislider.css"/>
  <script type="text/javascript" src="../node_modules/materializecss/extras/nouislider/nouislider.js">
  </script>
  -->

  {{#if searched}}
  {{ > listingsDisplay adminView=false}}
  {{/if}}


  <script>
    $(document).ready(function() {
      M.AutoInit();

    //   var slider = document.getElementById('  ');

    //   noUiSlider.create(slider, {
    //     start: [20, 80],
    //     connect: true,
    //     range: {
    //       'min': 0,
    //       'max': 100
    //     }
    //   });
    //   console.log("slider done");
    });
  </script>

</template>
